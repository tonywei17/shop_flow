# ç”Ÿç”£ç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå®Ÿè¡Œãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
> **ä½œæˆæ—¥**: 2025-12-16  
> **å¯¾è±¡**: shop_flow v1.0 æœ¬ç•ªç’°å¢ƒæ›´æ–°  
> **å®Ÿè¡Œè€…**: [è¨˜å…¥ã—ã¦ãã ã•ã„]

---

## ğŸ“‹ ãƒ‡ãƒ—ãƒ­ã‚¤å‰ãƒã‚§ãƒƒã‚¯

### ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒç¢ºèª
- [ ] Git ãƒªãƒã‚¸ãƒˆãƒªãŒæœ€æ–°çŠ¶æ…‹ã‹ç¢ºèª
  ```bash
  git status
  git log --oneline -5
  ```
  **æœŸå¾…å€¤**: `On branch main`, `Your branch is up to date with 'origin/main'`

- [ ] ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ„ãƒªãƒ¼ãŒã‚¯ãƒªãƒ¼ãƒ³ã‹ç¢ºèª
  ```bash
  git status
  ```
  **æœŸå¾…å€¤**: `nothing to commit, working tree clean`

- [ ] ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã—ã¦ã„ã‚‹ã‹ç¢ºèª
  ```bash
  pnpm build
  ```
  **æœŸå¾…å€¤**: ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ãŒæˆåŠŸ

- [ ] Lint ãƒã‚§ãƒƒã‚¯ãŒæˆåŠŸã—ã¦ã„ã‚‹ã‹ç¢ºèª
  ```bash
  pnpm lint
  ```
  **æœŸå¾…å€¤**: ã‚¨ãƒ©ãƒ¼ãªã—

### æœ¬ç•ªç’°å¢ƒäº‹å‰ç¢ºèª
- [ ] ã‚µãƒ¼ãƒãƒ¼ã¸ã® SSH æ¥ç¶šç¢ºèª
  ```bash
  ssh root@100.112.168.22 "echo 'Connection OK'"
  ```

- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
  ```bash
  ssh root@100.112.168.22 "ls -la /root/shop_flow"
  ```

- [ ] Docker Compose ãŒåˆ©ç”¨å¯èƒ½ã‹ç¢ºèª
  ```bash
  ssh root@100.112.168.22 "docker compose version"
  ```
  **æœŸå¾…å€¤**: v2.35.1 ä»¥ä¸Š

- [ ] ç¾åœ¨ã®ã‚³ãƒ³ãƒ†ãƒŠçŠ¶æ…‹ã‚’ç¢ºèª
  ```bash
  ssh root@100.112.168.22 "docker ps --filter 'name=shop_flow'"
  ```

- [ ] ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ã‚’ç¢ºèª
  ```bash
  ssh root@100.112.168.22 "df -h /"
  ```
  **æœŸå¾…å€¤**: 20GB ä»¥ä¸Šã®ç©ºãå®¹é‡

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç¢ºèª
- [ ] PostgreSQL ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹ã‹ç¢ºèª
  ```bash
  ssh root@100.112.168.22 "docker logs shop_flow-postgres --tail 20"
  ```

- [ ] æœ€æ–°ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
  ```bash
  ssh root@100.112.168.22 "docker exec shop_flow-postgres psql -U shop_flow -d shop_flow -c '\dt'"
  ```

- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–å¾—
  ```bash
  ssh root@100.112.168.22 "docker exec shop_flow-postgres pg_dump -U shop_flow shop_flow > /root/shop_flow_backup_$(date +%Y%m%d_%H%M%S).sql"
  ```

### SSL è¨¼æ˜æ›¸ç¢ºèª
- [ ] Traefik ãƒ­ã‚°ã§è¨¼æ˜æ›¸ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèª
  ```bash
  ssh root@100.112.168.22 "docker logs traefik --tail 50 | grep -i 'error\|certificate'"
  ```

- [ ] DNS è¨­å®šãŒæ­£ã—ã„ã‹ç¢ºèª
  ```bash
  ssh root@100.112.168.22 "dig eurhythmics.nexus-tech.cloud"
  ```

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå®Ÿè¡Œ

### ã‚¹ãƒ†ãƒƒãƒ— 1: ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶š
```bash
ssh root@100.112.168.22
```
- [ ] æ¥ç¶šæˆåŠŸ

### ã‚¹ãƒ†ãƒƒãƒ— 2: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
```bash
cd /root/shop_flow
```
- [ ] ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç§»å‹•æˆåŠŸ

### ã‚¹ãƒ†ãƒƒãƒ— 3: æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
```bash
git fetch origin
git reset --hard origin/main
```
- [ ] Git fetch æˆåŠŸ
- [ ] Git reset æˆåŠŸ
- [ ] ãƒ­ã‚°ã§æœ€æ–°ã‚³ãƒŸãƒƒãƒˆç¢ºèª: `dc9ad81 chore: sync latest change`

### ã‚¹ãƒ†ãƒƒãƒ— 4: Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰
```bash
docker compose -f docker-compose.prod.yml build --no-cache web storefront learning
```
- [ ] web ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- [ ] storefront ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- [ ] learning ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- [ ] ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’è¨˜éŒ²: _____ åˆ†

### ã‚¹ãƒ†ãƒƒãƒ— 5: ã‚³ãƒ³ãƒ†ãƒŠã‚’å†èµ·å‹•
```bash
docker compose -f docker-compose.prod.yml up -d web storefront learning
```
- [ ] web ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æˆåŠŸ
- [ ] storefront ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æˆåŠŸ
- [ ] learning ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æˆåŠŸ

### ã‚¹ãƒ†ãƒƒãƒ— 6: åˆæœŸçŠ¶æ…‹ç¢ºèª
```bash
docker ps --filter 'name=shop_flow' --format 'table {{.Names}}\t{{.Status}}\t{{.Ports}}'
```
- [ ] ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠãŒ `Up` çŠ¶æ…‹
- [ ] ãƒãƒ¼ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°ãŒæ­£ã—ã„

---

## ğŸ§ª ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®æ¤œè¨¼

### ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
```bash
# ç®¡ç†å¾Œå°
curl -s -o /dev/null -w '%{http_code}' https://eurhythmics.nexus-tech.cloud/
```
- [ ] HTTP ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: 200 (æœŸå¾…å€¤)
- [ ] è¨˜éŒ²æ™‚åˆ»: _____

```bash
# ã‚¹ãƒˆã‚¢ãƒ•ãƒ­ãƒ³ãƒˆ
curl -s -o /dev/null -w '%{http_code}' https://eurhythmics-shop.nexus-tech.cloud/
```
- [ ] HTTP ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: 200 (æœŸå¾…å€¤)
- [ ] è¨˜éŒ²æ™‚åˆ»: _____

```bash
# Learning ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
curl -s -o /dev/null -w '%{http_code}' https://e-learning.nexus-tech.cloud/
```
- [ ] HTTP ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: 200 (æœŸå¾…å€¤)
- [ ] è¨˜éŒ²æ™‚åˆ»: _____

### ãƒ­ã‚°ç¢ºèª
```bash
docker logs shop_flow-web --tail 50
```
- [ ] ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] èµ·å‹•ãƒ­ã‚°ãŒæ­£å¸¸

```bash
docker logs shop_flow-storefront --tail 50
```
- [ ] ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] èµ·å‹•ãƒ­ã‚°ãŒæ­£å¸¸

```bash
docker logs shop_flow-learning --tail 50
```
- [ ] ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] èµ·å‹•ãƒ­ã‚°ãŒæ­£å¸¸

### ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡ç¢ºèª
```bash
docker stats --filter 'name=shop_flow' --no-stream
```
- [ ] CPU ä½¿ç”¨ç‡: _____ %
- [ ] ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡: _____ %
- [ ] ç•°å¸¸ãªä½¿ç”¨é‡ãŒãªã„ã‹ç¢ºèª

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šç¢ºèª
```bash
docker exec shop_flow-postgres pg_isready -U shop_flow
```
- [ ] æ¥ç¶šæˆåŠŸ (å‡ºåŠ›: `accepting connections`)

---

## ğŸŒ æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

### ç®¡ç†å¾Œå° (Dashboard)
1. [ ] https://eurhythmics.nexus-tech.cloud ã«ã‚¢ã‚¯ã‚»ã‚¹
2. [ ] ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
3. [ ] ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
4. [ ] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹
5. [ ] ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
6. [ ] å•†å“ç®¡ç†ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
7. [ ] å•†åº—è¨­å®šãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
8. [ ] ãƒ­ãƒ¼ãƒ«ç®¡ç†ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½

### ã‚¹ãƒˆã‚¢ãƒ•ãƒ­ãƒ³ãƒˆ (Storefront)
1. [ ] https://eurhythmics-shop.nexus-tech.cloud ã«ã‚¢ã‚¯ã‚»ã‚¹
2. [ ] ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
3. [ ] å•†å“ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹
4. [ ] å•†å“æ¤œç´¢ãŒæ©Ÿèƒ½ã™ã‚‹
5. [ ] å•†å“è©³ç´°ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
6. [ ] ã‚«ãƒ¼ãƒˆã«å•†å“ã‚’è¿½åŠ å¯èƒ½
7. [ ] ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆãƒ•ãƒ­ãƒ¼ãŒæ­£å¸¸

### Learning ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
1. [ ] https://e-learning.nexus-tech.cloud ã«ã‚¢ã‚¯ã‚»ã‚¹
2. [ ] ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
3. [ ] ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
4. [ ] ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
5. [ ] ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
6. [ ] Vimeo å‹•ç”»ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
7. [ ] AI ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãƒ‘ãƒãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª

### ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚é–“
```bash
curl -w "@curl-format.txt" -o /dev/null -s https://eurhythmics.nexus-tech.cloud/
```
- [ ] Total time: _____ ç§’ (ç›®æ¨™: < 3ç§’)

### API ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“
```bash
curl -w "%{time_total}\n" -o /dev/null -s https://eurhythmics.nexus-tech.cloud/api/auth/me
```
- [ ] Response time: _____ ç§’ (ç›®æ¨™: < 1ç§’)

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç¢ºèª

- [ ] HTTPS ãŒæœ‰åŠ¹ã‹ç¢ºèª
  ```bash
  curl -I https://eurhythmics.nexus-tech.cloud | grep -i "strict-transport-security"
  ```

- [ ] SSL è¨¼æ˜æ›¸ãŒæœ‰åŠ¹ã‹ç¢ºèª
  ```bash
  openssl s_client -connect eurhythmics.nexus-tech.cloud:443 -servername eurhythmics.nexus-tech.cloud < /dev/null | grep -A 2 "Verify return code"
  ```

- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
  ```bash
  curl -I https://eurhythmics.nexus-tech.cloud | grep -E "X-Frame-Options|X-Content-Type-Options|Content-Security-Policy"
  ```

---

## ğŸ“ ãƒ‡ãƒ—ãƒ­ã‚¤çµæœè¨˜éŒ²

### ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œæƒ…å ±
- **å®Ÿè¡Œæ—¥æ™‚**: _____
- **å®Ÿè¡Œè€…**: _____
- **ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•**: â˜ ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ â˜ ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—
- **æ‰€è¦æ™‚é–“**: _____ åˆ†

### ãƒ“ãƒ«ãƒ‰æƒ…å ±
- **ãƒ“ãƒ«ãƒ‰é–‹å§‹æ™‚åˆ»**: _____
- **ãƒ“ãƒ«ãƒ‰çµ‚äº†æ™‚åˆ»**: _____
- **ãƒ“ãƒ«ãƒ‰æˆåŠŸ**: â˜ ã¯ã„ â˜ ã„ã„ãˆ
- **ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼**: _____

### ãƒ‡ãƒ—ãƒ­ã‚¤çµæœ
- **ãƒ‡ãƒ—ãƒ­ã‚¤æˆåŠŸ**: â˜ ã¯ã„ â˜ ã„ã„ãˆ
- **å•é¡Œç™ºç”Ÿ**: â˜ ã¯ã„ â˜ ã„ã„ãˆ
- **å•é¡Œå†…å®¹**: _____

### æ¤œè¨¼çµæœ
- **ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯**: â˜ æˆåŠŸ â˜ å¤±æ•—
- **æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ**: â˜ æˆåŠŸ â˜ å¤±æ•—
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: â˜ æ­£å¸¸ â˜ ä½ä¸‹
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: â˜ OK â˜ å•é¡Œã‚ã‚Š

### å‚™è€ƒ
_____

---

## ğŸ”™ ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é † (å•é¡Œç™ºç”Ÿæ™‚)

### ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè¡Œ
```bash
ssh root@100.112.168.22 "cd /root/shop_flow && \
  git reset --hard <previous-commit-hash> && \
  docker compose -f docker-compose.prod.yml build --no-cache web storefront learning && \
  docker compose -f docker-compose.prod.yml up -d web storefront learning"
```

- [ ] ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè¡Œ
- [ ] ã‚³ãƒ³ãƒ†ãƒŠå†èµ·å‹•ç¢ºèª
- [ ] ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
- [ ] æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨˜éŒ²
- **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè¡Œæ—¥æ™‚**: _____
- **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯¾è±¡ã‚³ãƒŸãƒƒãƒˆ**: _____
- **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ç†ç”±**: _____
- **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆåŠŸ**: â˜ ã¯ã„ â˜ ã„ã„ãˆ

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆé€£çµ¡å…ˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆï¼š

1. **ãƒ­ã‚°ã‚’ç¢ºèª**
   ```bash
   docker logs shop_flow-web --tail 100
   docker logs shop_flow-storefront --tail 100
   docker logs shop_flow-learning --tail 100
   ```

2. **ã‚µãƒ¼ãƒãƒ¼ãƒªã‚½ãƒ¼ã‚¹ã‚’ç¢ºèª**
   ```bash
   docker stats --filter 'name=shop_flow'
   df -h /
   free -h
   ```

3. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚’ç¢ºèª**
   ```bash
   docker exec shop_flow-postgres pg_isready -U shop_flow
   ```

4. **Traefik ãƒ­ã‚°ã‚’ç¢ºèª**
   ```bash
   docker logs traefik --tail 50
   ```

---

**ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆå®Œäº†æ—¥**: _____  
**ç¢ºèªè€…ç½²å**: _____
